<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hospital List | Raozan Helpline</title>
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/fYVnDvZS/blood-donation-logo-blood-bank-png-favpng-Vjmcn-Sqewheyp0j-S0giry-SXpt.png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #0f172a; 
            --accent: #ef4444;  
            --bg-calm: #f1f5f9; 
            --text-dark: #1e293b;
            --text-light: #64748B;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.75);
            --glass-border: rgba(255, 255, 255, 0.5);
            --shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
        }

        * { -webkit-user-select: none; box-sizing: border-box; }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-calm);
            background-image: radial-gradient(at 0% 0%, rgba(15, 23, 42, 0.05) 0px, transparent 50%);
            color: var(--text-dark);
            margin: 0; padding: 0; line-height: 1.6;
        }

        .glass-nav {
            background: var(--glass);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--glass-border);
            position: sticky; top: 0; z-index: 2000; padding: 12px 0;
        }

        .nav-brand {
            display: flex; align-items: center; justify-content: center;
            gap: 10px; text-decoration: none; margin-bottom: 12px;
        }

        .nav-brand img { height: 35px; width: auto; }

        .nav-brand span {
            font-weight: 800; color: var(--primary); font-size: 1.2rem;
            text-transform: uppercase;
        }

        .nav-links {
            display: flex; justify-content: center; gap: 5px;
            max-width: 95%; margin: 0 auto; background: rgba(0, 0, 0, 0.03);
            padding: 4px; border-radius: 50px; width: fit-content;
        }

        .nav-link {
            text-decoration: none; color: var(--text-light); font-size: 0.65rem;
            font-weight: 700; padding: 8px 16px; border-radius: 50px; transition: 0.3s;
        }

        .nav-link.active { background: var(--white); color: var(--primary); }

        .container { max-width: 800px; margin: 0 auto; padding: 20px 20px 80px 20px; }

        .header-section { text-align: center; margin-bottom: 25px; }
        .header-section h1 { font-weight: 800; font-size: 2rem; color: var(--primary); margin: 0; }
        .header-section p { color: var(--text-light); font-weight: 500; margin-top: 8px; font-size: 0.9rem; }

        .search-wrapper {
            background: var(--white); padding: 15px; border-radius: 20px;
            box-shadow: var(--shadow); margin-bottom: 25px; display: flex;
            flex-direction: column; gap: 10px;
        }

        .search-input-group { position: relative; display: flex; align-items: center; }
        .search-input-group i { position: absolute; left: 15px; color: var(--text-light); }
        .search-input-group input {
            width: 100%; padding: 12px 12px 12px 42px; border-radius: 12px;
            border: 1px solid #e2e8f0; font-size: 0.9rem; outline: none; background: #f8fafc;
        }

        #hospitalList { display: grid; grid-template-columns: 1fr; gap: 15px; }

        .hospital-card {
            background: var(--white); border-radius: 20px; padding: 18px;
            display: flex; flex-direction: column; gap: 10px; box-shadow: var(--shadow);
            border: 1px solid var(--white); transition: 0.3s; cursor: pointer;
        }

        .hospital-card:hover { transform: translateY(-3px); }

        .card-main { display: flex; align-items: center; gap: 15px; }

        .hosp-icon {
            width: 45px; height: 45px; background: #f0fdf4; color: #16a34a;
            border-radius: 12px; display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; flex-shrink: 0;
        }

        .hosp-details h3 { margin: 0; font-size: 1rem; font-weight: 800; color: var(--primary); }
        .hosp-details p { margin: 2px 0 0 0; font-size: 0.8rem; color: var(--text-light); font-weight: 600; }

        .btn-call {
            background: var(--primary); color: white; text-decoration: none;
            text-align: center; padding: 10px; border-radius: 10px; font-weight: 700;
            font-size: 0.8rem; display: flex; align-items: center; justify-content: center; gap: 8px;
        }

        .loader { text-align: center; padding: 40px; color: var(--text-light); font-weight: 600; }
        .footer { padding: 40px 20px; text-align: center; color: var(--text-light); font-size: 0.8rem; }

        @media (min-width: 768px) {
            #hospitalList { grid-template-columns: 1fr 1fr; }
            .search-wrapper { flex-direction: row; }
            .search-input-group { flex: 1; }
        }
    </style>
</head>
<body>

    <nav class="glass-nav">
        <a href="index.html" class="nav-brand">
            <img src="https://i.ibb.co/fYVnDvZS/blood-donation-logo-blood-bank-png-favpng-Vjmcn-Sqewheyp0j-S0giry-SXpt.png" alt="Logo">
            <span>RAOZAN HELPLINE</span>
        </a>
        <div class="nav-links">
            <a href="index.html" class="nav-link">HOME</a>
            <a href="hospitals.html" class="nav-link active">HOSPITALS</a>
            <a href="contact.html" class="nav-link">CONTACT</a>
        </div>
    </nav>

    <div class="container">
        <div class="header-section">
            <h1>Nearby Hospitals</h1>
            <p>Find medical facilities and emergency contacts quickly.</p>
        </div>

        <div class="search-wrapper">
            <div class="search-input-group">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search Hospital Name..." onkeyup="filterHospitals()">
            </div>
            <div class="search-input-group">
                <i class="fas fa-map-marker-alt"></i>
                <input type="text" id="locationInput" placeholder="Filter by Location..." onkeyup="filterHospitals()">
            </div>
        </div>

        <div id="hospitalList">
            <div class="loader"><i class="fas fa-circle-notch fa-spin"></i> Loading facilities...</div>
        </div>

        <div class="footer">Â© 2025 RAOZAN HELPLINE</div>
    </div>

    <script>
        const sheetURL = 'https://script.google.com/macros/s/AKfycbyvsmKXpYjGPdrAUCoc3NJSPLF2M2aals1F2RTx1ccYtKMydaA0h9bdkT6Y_5f_0MkZ_w/exec';
        let hospitals = [];

        async function fetchHospitals() {
            try {
                const response = await fetch(sheetURL);
                hospitals = await response.json();
                renderHospitals(hospitals);
            } catch (error) {
                document.getElementById('hospitalList').innerHTML = '<div class="loader">Error loading data.</div>';
            }
        }

        function renderHospitals(data) {
            const listContainer = document.getElementById('hospitalList');
            listContainer.innerHTML = '';

            data.forEach(hosp => {
                // IMPORTANT: Uses the link directly from your Google Sheet Column E
                const card = `
                    <div class="hospital-card" onclick="window.location.href='${hosp.link}'">
                        <div class="card-main">
                            <div class="hosp-icon"><i class="fas fa-hospital-alt"></i></div>
                            <div class="hosp-details">
                                <h3>${hosp.name}</h3>
                                <p><i class="fas fa-stethoscope"></i> ${hosp.speciality}</p>
                                <p><i class="fas fa-map-marker-alt"></i> ${hosp.location}</p>
                            </div>
                        </div>
                        <div style="margin-top:10px;">
                            <a href="tel:${hosp.phone}" class="btn-call" onclick="event.stopPropagation();">
                                <i class="fas fa-phone-alt"></i> Call Now
                            </a>
                        </div>
                    </div>
                `;
                listContainer.innerHTML += card;
            });
        }

        function filterHospitals() {
            const nameQuery = document.getElementById('searchInput').value.toLowerCase();
            const locQuery = document.getElementById('locationInput').value.toLowerCase();
            const filtered = hospitals.filter(h => 
                h.name.toLowerCase().includes(nameQuery) && 
                h.location.toLowerCase().includes(locQuery)
            );
            renderHospitals(filtered);
        }

        window.onload = fetchHospitals;
    </script>
</body>
</html>